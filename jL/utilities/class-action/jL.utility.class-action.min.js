(function(g,d,A){d.setUtilities("classAction",function(){var h=function(b,a){return".ca-"+b.split(a||" ").join(",.ca-")},n=function(b,a){b.prop("class");var m=new RegExp("ca-".replace("-","\\-")+a+"\\-data\\-(\\w*)","gm"),f={};b.prop("class").replace(m,function(b,a){var c=a.split("_");f[c[0]]=c[1]||!0});return f},p=[{className:"date-picker",action:function(){var b=new Date;d.calendar(b).getMonthName();var a=g(this),m={},f,k=function(a){var c=function(){g(h("date-picker-contain")).remove();var a="",
c="";d.calendar(b).getDayNames().shortName.forEach(function(a){c+=d.strReplace('<td><div class="ca-date-picker-head">{dayName}</div></td>',["{dayName}"],[a])});d.calendar(b).getMonthsInArray().forEach(function(c){var e="";c.forEach(function(a){var c=a.getDate();d.calendar(a).isMonthCurrent(b.getMonth())?(e=d.calendar(a).isDateCurrent()?e+d.strReplace('<td><div class="ca-date-picker-day today">{day}</div></td>',["{day}"],[c]):e+d.strReplace('<td><div class="ca-date-picker-day">{day}</div></td>',["{day}"],
[c]),m[c]=a):e+=d.strReplace('<td><div class="ca-date-picker-day-off">{day}</div></td>',["{day}"],[c])});a+=d.strReplace("<tr>{week}</tr>",["{week}"],[e])});f=g(d.strReplace('<div class="ca-date-picker-contain">{calendar}</div>',["{calendar}"],[d.strReplace('<div class="ca-date-picker-control"><div class="ca-date-picker-month-prev">&lt;</div><div class="ca-date-picker-month"></div><div class="ca-date-picker-year"></div><div class="ca-date-picker-month-next">&gt;</div></div><div class="ca-date-picker-table"><table class="w-100"><thead><tr>{head}</tr></thead><tbody>{days}</tbody></table></div>',
["{head}","{days}"],[c,a])])).appendTo("body");f.find(h("date-picker-month")).html(d.calendar(b).getMonthName());f.find(h("date-picker-year")).html(b.getFullYear())};c();f.off("click.date-picker").on("click.date-picker",h("date-picker-day"),function(){var b=m[this.innerText];a.val(b.getDate()+"."+(b.getMonth()+1)+"."+b.getFullYear());f.fadeOut(300)}).on("click.date-picker",h("date-picker-month-prev"),function(){b=d.calendar(b).setMonthPrev();c();a.trigger("focus").trigger("click")}).on("click.date-picker",
h("date-picker-month-next"),function(){b=d.calendar(b).setMonthNext();c();a.trigger("focus").trigger("click")});a.data("date-picker",f)};a.length&&a.each(function(){var a=g(this),b;a.on({click:function(){k(a);clearTimeout(b);f.css({top:a.offset().top+a.outerHeight(),left:a.offset().left}).fadeIn(300)},blur:function(){b=setTimeout(function(){clearTimeout(b);f.fadeOut(300)},3E3)}})})}},{className:"string-locale",action:function(){var b=g(this),a=b.text().replace(/(\d{1,3})(?=((\d{3})*)$)/g," $1");b.text(a)}},
{className:"placeholder",action:function(){var b=g(this);d.IEBind.add("8,9",function(){b.each(function(){var a=g(this),b=a.attr("placeholder"),f=a.prop("tagName"),d=a.prop("color"),e="INPUT"===f?"val":"text",f=function(){var c=a[e]();a[e](c===b||""===c?function(){a.css("color","#aaaaaa");return b}():c)};a.on("focus",function(){a[e]()===b&&(a.css("color",d),a[e](""))});a.on("blur",f);f()})})}},{className:"form-ajax",action:function(){if(window.FormData){var b=g(this),a=b.prop("action"),d=b.prop("method");
b.find("[type=submit]").on("click",function(f){f.preventDefault();g[d](a,b.serialize(),function(){b.trigger("ca-form-ajax",arguments)})})}}},{className:"select-css",action:function(){var b=g(this),a=b.find("select"),d=b.find(h("select-css-select"));a.each(function(f){var k=g(this);k.prop("multiple");k.prop("size");k.find("optgroup");var e=k.find(">*"),c=e.filter("[selected]").text()||"";k.find("option");var l=function(a,c){c=c||b;return c.find(h(a)).eq(0).clone().empty()},n=l("select-css-group"),
p=l("select-css-options"),q=l("select-css-option"),r=l("select-css-option-target"),w=l("select-css-group-options"),t=l("select-css-select-label"),x=l("select-css-group-label"),y=l("select-css-group-label-target"),u=function(a){k.prop("selectedIndex",a.index).trigger("change");t.text(a.innerText||a.innerHTML)},v=function(a){var b=n.clone();b.append(x.clone().append(y.clone().text(a.label))).append(z(g(a).find(">option")));return b},z=function(a){var b=w.clone();a.each(function(){var a=this;if("OPTION"===
this.tagName){var c=q.clone().append(r.clone().text(a.innerText||a.innerHTML||123).on("click",function(){u(a)}));b.append(c)}else"OPTGROUP"===a.tagName&&b.append(v(a))});return b};k.before(d.clone().empty().append(t.text(c)).append(function(){var a=p.clone();e.each(function(){var b=this;if("OPTION"===this.tagName){var c=q.clone();c.append(r.clone().text(b.innerText||b.innerHTML).addClass(b.hasAttribute("disabled")?"c-gray65":"").on("click",function(){b.hasAttribute("disabled")||u(b)}));a.append(c)}else"OPTGROUP"===
this.tagName&&a.append(v(b))});return a}()));f===a.length-1&&d.remove();k.hide();b.on("click",function(){})})}},{className:"switch",action:function(){var b=g(this);b.find(h("switch-acting")).each(function(){var a=g(this),d=n(a,"switch");a.on((d.event||"click")+".ca-switch",function(f,k){if(!k){var e;e=a.prop("class");var c=new RegExp(".*("+("ca-".replace("-","\\-")+"switch\\-tag\\-")+"\\w*)\\s.*"),c=e.replace(c,"$1");e=c===e?a:0>e.indexOf("ca-switch-action-too")?b.find(h(c.replace("ca-",""))).not(a).not(h("switch-acting")):
b.find(h(c.replace("ca-",""))).not(g(h("switch-acting")).not(a));e.filter(h("switch-acting"));var c=e.filter(h("switch-exposed")),l=b.find(h("switch-acting switch-exposed"));if(d.hasOwnProperty("effect"))switch(d.effect){case "now":c.fadeToggle(0);break;case "fade":c.fadeToggle();break;case "slide":c.slideToggle()}a.hasClass("ca-switch-reverse")&&e.hasClass("selected")?l.removeClass("selected"):(l.removeClass("selected"),e.addClass("selected"));b.trigger("ca-switch",[e,d])}})})}}];g(function(){p.forEach(function(b){g(h(b.className,
",")).each(b.action)})})}())})(jQuery,jL);
