(function(g,d,A){d.setUtilities("classAction",function(){var f=function(a,e){return".ca-"+a.split(e||" ").join(",.ca-")},m=function(a,e){a.prop("class");var f=new RegExp("ca-".replace("-","\\-")+e+"\\-data\\-(\\w*)","gm"),d={};a.prop("class").replace(f,function(a,c){var b=c.split("_");d[b[0]]=b[1]||!0});return d},n=[{className:"date-picker",action:function(){var a=new Date;d.calendar(a).getMonthName();var e=g(this),p={},k,h=function(c){var b=function(){g(f("date-picker-contain")).remove();var c="",
b="";d.calendar(a).getDayNames().shortName.forEach(function(a){b+=d.strReplace('<td><div class="ca-date-picker-head">{dayName}</div></td>',["{dayName}"],[a])});d.calendar(a).getMonthsInArray().forEach(function(b){var e="";b.forEach(function(c){var b=c.getDate();d.calendar(c).isMonthCurrent(a.getMonth())?(e=d.calendar(c).isDateCurrent()?e+d.strReplace('<td><div class="ca-date-picker-day today">{day}</div></td>',["{day}"],[b]):e+d.strReplace('<td><div class="ca-date-picker-day">{day}</div></td>',["{day}"],
[b]),p[b]=c):e+=d.strReplace('<td><div class="ca-date-picker-day-off">{day}</div></td>',["{day}"],[b])});c+=d.strReplace("<tr>{week}</tr>",["{week}"],[e])});k=g(d.strReplace('<div class="ca-date-picker-contain">{calendar}</div>',["{calendar}"],[d.strReplace('<div class="ca-date-picker-control"><div class="ca-date-picker-month-prev">&lt;</div><div class="ca-date-picker-month"></div><div class="ca-date-picker-year"></div><div class="ca-date-picker-month-next">&gt;</div></div><div class="ca-date-picker-table"><table class="w-100"><thead><tr>{head}</tr></thead><tbody>{days}</tbody></table></div>',
["{head}","{days}"],[b,c])])).appendTo("body");k.find(f("date-picker-month")).html(d.calendar(a).getMonthName());k.find(f("date-picker-year")).html(a.getFullYear())};b();k.off("click.date-picker").on("click.date-picker",f("date-picker-day"),function(){var a=p[this.innerText];c.val(a.getDate()+"."+(a.getMonth()+1)+"."+a.getFullYear());k.fadeOut(300)}).on("click.date-picker",f("date-picker-month-prev"),function(){a=d.calendar(a).setMonthPrev();b();c.trigger("focus").trigger("click")}).on("click.date-picker",
f("date-picker-month-next"),function(){a=d.calendar(a).setMonthNext();b();c.trigger("focus").trigger("click")});c.data("date-picker",k)};e.length&&e.each(function(){var a=g(this),b;a.on({click:function(){h(a);clearTimeout(b);k.css({top:a.offset().top+a.outerHeight(),left:a.offset().left}).fadeIn(300)},blur:function(){b=setTimeout(function(){clearTimeout(b);k.fadeOut(300)},3E3)}})})}},{className:"string-locale",action:function(){var a=g(this),e=a.text().replace(/(\d{1,3})(?=((\d{3})*)$)/g," $1");a.text(e)}},
{className:"form-ajax",action:function(){if(window.FormData){var a=g(this),e=a.prop("action"),d=a.prop("method");a.find("[type=submit]").on("click",function(f){f.preventDefault();g[d](e,a.serialize(),function(){a.trigger("ca-form-ajax",arguments)})})}}},{className:"select-css",action:function(){var a=g(this),e=a.find("select"),d=a.find(f("select-css-select"));e.each(function(k){var h=g(this);h.prop("multiple");h.prop("size");h.find("optgroup");var c=h.find(">*"),b=c.filter("[selected]").text()||"";
h.find("option");var l=function(b,c){c=c||a;return c.find(f(b)).eq(0).clone().empty()},m=l("select-css-group"),n=l("select-css-options"),q=l("select-css-option"),r=l("select-css-option-target"),w=l("select-css-group-options"),t=l("select-css-select-label"),x=l("select-css-group-label"),y=l("select-css-group-label-target"),u=function(a){h.prop("selectedIndex",a.index).trigger("change");t.text(a.innerText||a.innerHTML)},v=function(a){var b=m.clone();b.append(x.clone().append(y.clone().text(a.label))).append(z(g(a).find(">option")));
return b},z=function(a){var b=w.clone();a.each(function(){var a=this;if("OPTION"===this.tagName){var c=q.clone().append(r.clone().text(a.innerText||a.innerHTML||123).on("click",function(){u(a)}));b.append(c)}else"OPTGROUP"===a.tagName&&b.append(v(a))});return b};h.before(d.clone().empty().append(t.text(b)).append(function(){var a=n.clone();c.each(function(){var b=this;if("OPTION"===this.tagName){var c=q.clone();c.append(r.clone().text(b.innerText||b.innerHTML).addClass(b.hasAttribute("disabled")?
"c-gray65":"").on("click",function(){b.hasAttribute("disabled")||u(b)}));a.append(c)}else"OPTGROUP"===this.tagName&&a.append(v(b))});return a}()));k===e.length-1&&d.remove();h.hide();a.on("click",function(){})})}},{className:"switch",action:function(){var a=g(this);a.find(f("switch-acting")).each(function(){var e=g(this),d=m(e,"switch");e.on((d.event||"click")+".ca-switch",function(k,h){if(!h){var c;c=e.prop("class");var b=new RegExp(".*("+("ca-".replace("-","\\-")+"switch\\-tag\\-")+"\\w*)\\s.*"),
b=c.replace(b,"$1");c=b===c?e:0>c.indexOf("ca-switch-action-too")?a.find(f(b.replace("ca-",""))).not(e).not(f("switch-acting")):a.find(f(b.replace("ca-",""))).not(g(f("switch-acting")).not(e));c.filter(f("switch-acting"));var b=c.filter(f("switch-exposed")),l=a.find(f("switch-acting switch-exposed"));if(d.hasOwnProperty("effect"))switch(d.effect){case "now":b.fadeToggle(0);break;case "fade":b.fadeToggle();break;case "slide":b.slideToggle()}e.hasClass("ca-switch-reverse")&&c.hasClass("selected")?l.removeClass("selected"):
(l.removeClass("selected"),c.addClass("selected"));a.trigger("ca-switch",[c,d])}})})}}];g(function(){n.forEach(function(a){g(f(a.className,",")).each(a.action)})})}())})(jQuery,jL);
